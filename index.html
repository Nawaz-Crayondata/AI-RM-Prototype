<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Relationship Manager Chat</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>


    <!-- Main Chat Application -->
    <div class="chat-app" id="chatApp">
        <!-- Chat Header -->
        <header class="chat-header">
            <div class="contact-info">
                <div class="avatar">
                    <span><img src="https://cdn.brandfetch.io/idFPSPxNmZ/w/1313/h/1322/theme/dark/icon.jpeg?c=1dxbfHSJFAPEGdCLU4o5B " height="50"width="50"></span>
                </div>
                <div class="contact-details">
                    <h1>Danamon Bank AI Relationship Manager</h1>
                    <span class="status" id="chatStatus">Connecting...</span>
                </div>
            </div>
            <div class="header-actions">
                <button class="header-btn" id="resetBtn" title="Reset Session">ðŸ”„</button>
            </div>
        </header>

        <!-- Messages Container -->
        <main class="messages-container" id="messagesContainer">
            <div class="welcome-banner">
                <div class="welcome-icon">ðŸ‘‹</div>
                <h2>Welcome, Budi!</h2>
                <p>Your AI banking assistant is analyzing your profile...</p>
            </div>
        </main>

        <!-- Typing Indicator -->
        <div class="typing-indicator hidden" id="typingIndicator">
            <div class="typing-avatar"><img src="https://cdn.brandfetch.io/idFPSPxNmZ/w/1313/h/1322/theme/dark/icon.jpeg?c=1dxbfHSJFAPEGdCLU4o5B " height="30"width="30"></div>
            <div class="typing-bubble">
                <div class="typing-dots">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
                <span class="typing-text">AI is typing...</span>
            </div>
        </div>

        <!-- Message Input -->
        <footer class="message-input-container">
            <div class="message-input-wrapper">
                <input 
                    type="text" 
                    id="messageInput" 
                    class="message-input" 
                    placeholder="Type a message..."
                    autocomplete="off"
                    disabled
                >
                <button id="sendButton" class="send-button" disabled>
                    <span class="send-icon">âž¤</span>
                </button>
            </div>
        </footer>
    </div>



    <!-- Load configuration first (if available) -->
    <script>
        // Vercel environment variables
        window.API_CONFIG = {
            openai: 'sk-your-openai-api-key-here', // Will be replaced by Vercel
            sonar: 'pplx-your-perplexity-api-key-here', // Will be replaced by Vercel
            provider: 'openai'
        };
    </script>
    <script src="config.js"></script>
    <script src="app.js"></script>
</body>
</html>